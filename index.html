<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
<script type="text/javascript">
  const getSomething = (url) => {
    console.log('url : ',url);
    return new Promise((resolve,reject) => {
      const xhttp = new XMLHttpRequest();
      xhttp.addEventListener('readystatechange', () => {
        if (xhttp.readyState == 4 && xhttp.status == 200) {
          resolve(JSON.parse(xhttp.responseText))
        } else if(this.readyState == 4) {
          reject('Something went wrong');
        }
      });
      xhttp.open("GET", url);
      xhttp.send();      
      // fetch(url, {})
      // .then((resp) => resp.json())
      // .then(data => {
      //   return Promise.resolve(JSON.parse(data));
      // })
      // .catch(err => { 
      //   return Promise.reject('Something went wrong');
      // })


      // resolve('done');
      // reject('done');
    })
  }
  getSomething("https://jsonplaceholder.typicode.com/todos/1").then((data) => {
    console.log('1 data : -> ',data);
  }).catch(err => {
    console.log('err : ',err);
  })
</script>
</body>
</html>